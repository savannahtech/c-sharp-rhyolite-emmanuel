@{
    ViewData["Title"] = "Dashboard | Payroll";
    Layout = "~/Views/Shared/Layout/_adminPayrollLayout.cshtml";
}

<div id="app">

    <div class="top-bar color-scheme-transparent">

        <div aria-hidden="true" v-if="false" class="onboarding-modal modal fade animated show-on-load" role="dialog" tabindex="-1">
            <div class="modal-dialog modal-centered" role="document">
                <div class="modal-content text-center">
                    <button aria-label="Close" class="close" data-dismiss="modal" type="button"><span class="close-label">Skip Intro</span><span class="os-icon os-icon-close"></span></button>
                    <div class="onboarding-slider-w">
                        <div class="onboarding-slide">
                            <div class="onboarding-media"><img alt="" src="~/assets/admin/img/bigicon2.png" width="200px"></div>
                            <div class="onboarding-content with-gradient">
                                <h4 class="onboarding-title">Example of onboarding screen!</h4>
                                <div class="onboarding-text">This is an example of a multistep onboarding screen, you can use it to introduce your customers to your app, or collect additional information from them before they start using your app.</div>
                            </div>
                        </div>
                        <div class="onboarding-slide">
                            <div class="onboarding-media"><img alt="" src="~/assets/admin/img/bigicon5.png" width="200px"></div>
                            <div class="onboarding-content with-gradient">
                                <h4 class="onboarding-title">Example Request Information</h4>
                                <div class="onboarding-text">In this example you can see a form where you can request some additional information from the customer when they land on the app page.</div>
                                <form>
                                    <div class="row">
                                        <div class="col-sm-6">
                                            <div class="form-group"><label for="">Your Full Name</label><input class="form-control" placeholder="Enter your full name..." value=""></div>
                                        </div>
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label for="">Your Role</label>
                                                <select class="form-control">
                                                    <option>Web Developer</option>
                                                    <option>Business Owner</option>
                                                    <option>Other</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                        <div class="onboarding-slide">
                            <div class="onboarding-media"><img alt="" src="~/assets/admin/img/bigicon6.png" width="200px"></div>
                            <div class="onboarding-content with-gradient">
                                <h4 class="onboarding-title">Showcase App Features</h4>
                                <div class="onboarding-text">In this example you can showcase some of the features of your application, it is very handy to make new users aware of your hidden features. You can use boostrap columns to split them up.</div>
                                <div class="row">
                                    <div class="col-sm-6">
                                        <ul class="features-list">
                                            <li>Fully Responsive design</li>
                                            <li>Pre-built app layouts</li>
                                            <li>Incredible Flexibility</li>
                                        </ul>
                                    </div>
                                    <div class="col-sm-6">
                                        <ul class="features-list">
                                            <li>Boxed & Full Layouts</li>
                                            <li>Based on Bootstrap 4</li>
                                            <li>Developer Friendly </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="sms-top-up" aria-hidden="true" aria-labelledby="mySmallModalLabel" class="modal fade bd-example-modal-sm" role="dialog" tabindex="-1">

            <div class="modal-dialog modal-sm">

                    <div class="modal-content">

                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel"> Topup SMS Account </h5>
                        <button aria-label="Close" class="close" data-dismiss="modal" type="button"><span aria-hidden="true"> &times;</span></button>
                    </div>

                    <div class="modal-body">

                        <form>
                            <div class="form-group">
                                <input class="form-control" ref="smsTopupAmount" v-model="smsTopupAmount" placeholder="Enter Amount" type="number">
                            </div>
                        </form>

                    </div>
                    <div class="modal-footer"><button class="btn btn-secondary" data-dismiss="modal" type="button"> Close</button>
                        <button class="btn btn-primary" type="button" v-on:click="smsAccountTopup()"> Top up </button>
                    </div>
                    </div>
                </div>
            </div>

        <div id="pay-subscription" aria-hidden="true" aria-labelledby="mySmallModalLabel" class="modal fade bd-example-modal-sm" role="dialog" tabindex="-1">

            <div class="modal-dialog modal-sm">

                <div class="modal-content">

                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel"> Pay Subscription Fees </h5>
                        <button aria-label="Close" class="close" data-dismiss="modal" type="button"><span aria-hidden="true"> &times;</span></button>
                    </div>

                    <div class="modal-body">

                        <form>
                            <div class="form-group">
                                <input class="form-control" ref="subscriptionFeeAmount" v-model="subscriptionFeeAmount" placeholder="Amount" type="number">
                            </div>
                        </form>

                    </div>
                    <div class="modal-footer">
                        <button class="btn btn-secondary" data-dismiss="modal" type="button"> Close</button>
                        <button class="btn btn-primary" type="button" v-on:click="paySubscriptionFee()">  Pay </button>
                    </div>
                </div>
            </div>
        </div>


        <div aria-hidden="true" aria-labelledby="exampleModalLabel" class="modal fade" id="ticket-modal" role="dialog" tabindex="-1">
              <div class="modal-dialog" role="document">
                  <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel"> Send Ticket </h5>
                            <button aria-label="Close" class="close" data-dismiss="modal" type="button"><span aria-hidden="true"> &times;</span></button>
                        </div>
                        <div class="modal-body">

                            <div class="form-group">

                                <input class="form-control" placeholder="Subject" type="email">
                            </div>

                            <div class="form-group">

                                <textarea class="form-control" placeholder="Tell us what happened"> </textarea>
                            </div>

                        <div class="form-group">

                            <textarea class="form-control" placeholder="Tell us what happened"> </textarea>
                        </div>

                        <div class="custom-file">
                            <input type="file" id="inputGroupFile01" name="myfile" onchange="previewImage(event)" class="custom-file-input col-md-12">
                            <label for="inputGroupFile01" class="custom-file-label col-md-12"> <strong> Add Screen Shots </strong>  </label>
                        </div>

                        </div>
                    <div class="modal-footer">
                        <button class="btn btn-secondary" data-dismiss="modal" type="button"> Close </button>
                        <button class="btn btn-primary" type="button" v-on:click="sendTicket()"> Save changes</button></div>
                    </div>
             </div>
         </div>

    </div>
    <ul class="breadcrumb">

        <li class="breadcrumb-item"><a href="@Url.Action("Payroll","Dashboard")">Dashboard</a></li>

    </ul>
    <div class="content-panel-toggler"><i class="os-icon os-icon-grid-squares-22"></i><span>Sidebar</span></div>
    <div class="content-i">
        <div class="content-box">
            <div class="row">
                <div class="col-sm-12">
                    <div class="element-wrapper">
                        <div class="element-actions">
                            <form class="form-inline justify-content-sm-end d-none">
                                <select class="form-control form-control-sm">
                                    <option value="Pending">Today</option>
                                    <option value="Active">Last Week </option>
                                    <option value="Cancelled">Last 30 Days</option>
                                </select>
                            </form>
                        </div>
                        <h6 class="element-header"> Dashboard</h6>
                        <div class="element-content">
                            <div class="row">
                                <div class="col-sm-4 col-xxxl-3">
                                    <a class="element-box el-tablo" href="#">
                                        <div class="label"> Student Population </div>
                                        <div class="value"> {{studentTotal}} </div>
                                        @* <div class="trending trending-up-basic"><span>12%</span><i class="os-icon os-icon-arrow-up2"></i></div>*@
                                    </a>
                                </div>
                                <div class="col-sm-4 col-xxxl-3">
                                    <a class="element-box el-tablo" href="#">
                                        <div class="label"> Staff Population </div>
                                        <div class="value"> {{staffTotal}} </div>
                                        @*<div class="trending trending-down-basic"><span>12%</span><i class="os-icon os-icon-arrow-down"></i></div>*@
                                    </a>
                                </div>
                                <div class="col-sm-4 col-xxxl-3">
                                    <a class="element-box el-tablo" href="#">
                                        <div class="label"> Events </div>
                                        <div class="value"> 0 </div>
                                        @*<div class="trending trending-down-basic"><span>9%</span><i class="os-icon os-icon-arrow-down"></i></div>*@
                                    </a>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-sm-6">
                    <div class="element-wrapper">
                        <h6 class="element-header"> Student Distribution </h6>
                        <div class="element-box" style="height:235px">
                            <div class="el-chart-w">
                                <div class="px-2" id="mfdist-chart"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-sm-6">

                    <div class="element-wrapper">
                        <h6 class="element-header"> Staff Distribution </h6>
                        <div class="element-box" style="height:235px">
                            <div class="el-chart-w">
                                <div class="px-2" id="mfstfdist-chart"></div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>


            <div class="row">
                <div class="col-sm-6">
                    <div class="element-wrapper">
                        <h6 class="element-header"> Bills/Payments (Current Academic Year) </h6>
                        <div class="element-box">
                            <div class="el-chart-w">
                                <div id="bp-chart" class="extra-margin"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-sm-6">

                    <div class="element-wrapper">
                        <h6 class="element-header">  Payments(@DateTime.Now.Year) </h6>
                        <div class="element-box">
                            <div class="el-chart-w">
                                <div id="bp-chart3" class="extra-margin"></div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>


        </div>
        <div class="content-panel">
            <div class="content-panel-close"><i class="os-icon os-icon-close"></i></div>
            <div class="element-wrapper">
                <h6 class="element-header">Quick Links</h6>
                <div class="element-box-tp">
                    <div class="el-buttons-list full-width">
                        <a class="btn btn-white btn-sm" href="@Url.Action("CreateOrUpdate","Students")"><i class="os-icon os-icon-user-plus"></i><span> Create New Employee </span></a>
                        <a class="btn btn-white btn-sm" href="#" data-target="#pay-subscription" data-toggle="modal"><i class="os-icon os-icon-finance-29"></i><span>  Pay Subscription Fees </span></a>
                        <a class="btn btn-white btn-sm" href="#" data-target="#sms-top-up" data-toggle="modal"><i class="os-icon os-icon-wallet-loaded"></i><span> Top-up SMS Balance </span></a>
                    </div>
                </div>
            </div>
            <div class="element-wrapper">
                <h6 class="element-header"> Support Agents </h6>
                <div class="element-box-tp">
                    <div class="profile-tile">
                        <a class="profile-tile-box" href="#">
                            <div class="pt-avatar-w"><img alt="" src="https://res.cloudinary.com/rhyoliteprime/image/upload/v1647772482/posmenu/sales_bots.jpg"></div>
                            <div class="pt-user-name"> Kwabena Addo </div>
                        </a>
                        <div class="profile-tile-meta">
                            <ul>
                                <li> Availability: <strong>Online Now</strong></li>
                                <li> Queued Tickets:<strong><a href="#">{{Math.floor(Math.random() * 25) + 1}}</a></strong></li>
                                <li> Response Time:<strong>{{Math.floor(Math.random() * 3) + 1}} hours</strong></li>
                            </ul>
                            <div class="pt-btn">
                                <a class="btn btn-success btn-sm" href="#" data-target="#ticket-modal" data-toggle="modal"> Send Message </a>
                            </div>
                        </div>
                    </div>
                    <div class="profile-tile">
                        <a class="profile-tile-box" href="#">
                            <div class="pt-avatar-w"><img alt="" src="https://res.cloudinary.com/rhyoliteprime/image/upload/v1647772482/posmenu/sales_bots.jpg"></div>
                            <div class="pt-user-name"> Isaac Nyarko </div>
                        </a>
                        <div class="profile-tile-meta">
                            <ul>
                                <li> Availability: <strong> Offline </strong></li>
                                <li> Queued Tickets: <strong> <a href="#">{{Math.floor(Math.random() * 27) + 1}}</a></strong></li>
                                <li> Response Time: <strong>{{Math.floor(Math.random() * 3) + 1}} hours</strong></li>
                            </ul>
                            <div class="pt-btn"><a class="btn btn-secondary btn-sm" href="#" data-target="#ticket-modal" data-toggle="modal">Send Message</a></div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>

</div>


<script src="~/js/school-manager/dashboard.js" asp-append-version="true"></script>