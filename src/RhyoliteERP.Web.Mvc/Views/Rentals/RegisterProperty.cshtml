@{
    ViewBag.Title = "Register Property";
    Layout = "~/Views/Shared/Layout/_adminRentalLayout.cshtml";
}


<ul class="breadcrumb">
    <li class="breadcrumb-item"><a href="#"> Rentals </a></li>
    <li class="breadcrumb-item"><a href="@Url.Action("RegisterProperty","Rentals")"> Register Property </a></li>
</ul>

<div class="content-i" id="app">
    <div class="content-box">
        <div class="element-wrapper">
            <h6 class="element-header"> Register Property </h6>
            <div class="element-box">
                <div class="table-responsive" style="height:auto;width:auto;min-height:412px;">


                    <fieldset class="form-group">
                        <legend><span> Search </span></legend>

                        <div class="row">

                            <div class="col-sm-4"></div>
                            <div class="col-sm-4">

                                <div class="form-group">
                                    <label> <strong> Select Property: </strong>  </label>

                                    <input id="propertyId" v-model="propertyId" type="text" class="form-control" />

                                </div>

                            </div>
                            <div class="col-sm-4"></div>

                        </div>

                    </fieldset>

                    <fieldset class="form-group">
                        <legend><span> Property Info </span></legend>

                        <div class="row">

                            <div class="col-sm-2"> </div>

                            <div class="col-sm-4">

                                <div class="form-group">

                                    <label> <strong> Property Name: <font color="red"> * </font> </strong> </label>
                                    <input type="text" class="form-control" v-model="name" ref="name" placeholder="Property Name">
                                    <span class="text-danger" v-if="!$v.name.required && $v.name.$dirty && name == ''"> Property Name field is required </span>

                                </div>

                                <div class="form-group">

                                    <label> <strong> Property Type: </strong>  </label>

                                    <select class="form-control mb-3" v-model="propertyTypeId" ref="propertyTypeId">
                                        <option value=""> Select Property Type </option>
                                        <option :value="propertyType.id" v-for="propertyType in propertyTypeList">{{propertyType.name}}</option>
                                    </select>

                                </div>

                                <div class="form-group">
                                    <label> <strong> Address: </strong>  </label>
                                    <input type="text" class="form-control" v-model="address" placeholder="eg.First Floor, Block No. 2">

                                </div>

                                <div class="form-group">
                                    <label> <strong> Region Or State: </strong>  </label>

                                    <select class="form-control" v-if="countryName == 'ghana'" v-model="regionOrState" ref="regionOrState">
                                        <option> Greater Accra </option>
                                        <option> Ashanti</option>
                                        <option> Volta</option>
                                        <option> Central</option>
                                        <option> Western</option>
                                        <option> Nothern</option>
                                        <option> Upper West</option>
                                        <option> Upper East</option>
                                        <option> Eastern </option>
                                        <option> Oti </option>
                                        <option> Brong Ahafo </option>
                                        <option> North East </option>
                                        <option> Western North</option>
                                        <option> Bono East </option>
                                        <option> Savannah </option>
                                    </select>
                                    <input type="text" class="form-control" v-else v-model="regionOrState" placeholder="Region Or State">

                                </div>


                                <div class="form-group">
                                    <label> <strong> Property Manager : <font color="red"> * </font> </strong>  </label>
                                    <input type="text" class="form-control" v-model="propertyManager" placeholder="Property Manager">

                                </div>

                                <div class="form-group">
                                    <label> <strong> Property Manager Phone No: </strong> <font color="red">* </font> </label>
                                    <input type="text" class="form-control" v-model="propertyManagerPhoneNo" ref="propertyManagerPhoneNo" placeholder="Property Manager Phone No">

                                </div>

                                <div class="form-group">

                                    <label> <strong> Ledger Account : </strong>  </label>

                                    <select class="form-control mb-3" v-model="ledgerAccountId" ref="ledgerAccountId">
                                        <option value=""> Select Ledger Account </option>
                                        <option :value="ledgerAccount.id" v-for="ledgerAccount in ledgerAccountList"> {{ ledgerAccount.accountName }} </option>
                                    </select>

                                </div>

                            </div>

                            <div class="col-sm-4">

                                <div class="form-group">
                                    <label> <strong> Property ID: </strong>  <font color="red"> * </font> &nbsp; <a style="color:#3498DB;" v-on:click="generatePropertyIdentifier()"><b> Generate </b></a>  </label>
                                    <input type="text" class="form-control" v-model="propertyIdentifier" placeholder="Property ID">
                                    <span class="text-danger" v-if="!$v.propertyIdentifier.required && $v.propertyIdentifier.$dirty && propertyIdentifier == ''"> Property ID field is required </span>

                                </div>

                                <div class="form-group">

                                    <label> <strong> Property Group : </strong> </label>

                                    <select class="form-control mb-3" v-model="propertyGroupId" ref="propertyGroupId">
                                        <option value=""> Select Property Group </option>
                                        <option :value="propertyGroup.id" v-for="propertyGroup in propertyGroupList">{{propertyGroup.name}}</option>
                                    </select>

                                </div>

                                <div class="form-group">
                                    <label> <strong> Country: </strong>  </label>
                                    <select class="form-control mb-3" v-model="countryId" ref="countryId">
                                        <option value=""> Select Country </option>
                                        <option :value="country.id" v-for="country in countryList"> {{country.name}} </option>
                                    </select>

                                </div>

                                <div class="form-group">
                                    <label> <strong> City: </strong>  </label>
                                    <input type="text" class="form-control" v-model="city" placeholder="City">

                                </div>


                                <div class="form-group">

                                    <label> <strong> Property Manager Email: </strong>  </label>
                                    <input type="text" class="form-control" v-model="propertyManagerEmail" placeholder="Property Manager Email">

                                </div>

                                <div class="form-group">
                                    <label> <strong> Property Reserve (GHS): </strong>  </label>
                                    <input type="number" class="form-control" v-model="propertyReserve" placeholder="Property Reserve">

                                </div>


                            </div>

                        </div>

                    </fieldset>

                    
                    <div class="row">

                        <div class="col-sm-2"> </div>

                        <div class="col-sm-4">
                            <button type="button" v-on:click="resetForm()" class="btn btn-warning"> <i class="bx bx-reset"></i> Reset </button>
                        </div>

                        <div class="col-sm-4">

                            <button type="button" :disabled="isLoading" v-on:click="registerProperty()" class="btn btn-primary" style="float: right;">

                                Save

                                <div class="spinner-border" v-if="isLoading" role="status" aria-hidden="true" style="width: 20px; height: 20px"></div>

                            </button>

                        </div>

                    </div>

                </div>

            </div>
        </div>

    </div>
</div>


<script src="~/libs/vuelidate/vuelidate.min.js"></script>
<script src="~/libs/vuelidate/validators.min.js"></script>

<script src="~/js/property-rental/rentals/register-property.js" asp-append-version="true"></script>